generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Trip {
  id                Int          @id @default(autoincrement())
  tripName          String
  locationInput     String
  normalizedCity    String?
  normalizedCountry String?
  latitude          Float?
  longitude         Float?
  startDate         DateTime
  endDate           DateTime
  createdAt         DateTime     @default(now())
  updatedAt         DateTime     @updatedAt
  weather           TripWeather?
}

model TripWeather {
  id          Int      @id @default(autoincrement())
  tripId      Int      @unique
  weatherJson String
  avgTemp     Float?
  minTemp     Float?
  maxTemp     Float?
  summaryText String?
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  trip        Trip     @relation(fields: [tripId], references: [id])
}

model Favorite {
  id                Int      @id @default(autoincrement())
  label             String
  locationInput     String
  normalizedCity    String?
  normalizedCountry String?
  latitude          Float
  longitude         Float
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt

  @@unique([latitude, longitude])
}
